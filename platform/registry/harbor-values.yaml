# platform/registry/harbor-values.yaml
expose:
  type: clusterIP  # Change from ingress to clusterIP
  clusterIP:
    name: harbor
    ports:
      httpPort: 80
      httpsPort: 443
  # Explicitly disable ingress
  ingress:
    enabled: false
  
  externalURL: https://registry.pheonix.live

# Explicitly disable at component level too
portal:
  ingress:
    enabled: false

core:
  ingress:
    enabled: false

registry:
  ingress:
    enabled: false

notary:
  server:
    ingress:
      enabled: false
  signer:
    ingress:
      enabled: false

# Rest of your config
persistence:
  enabled: true
  imageChartStorage:
    storageClass: "do-block-storage-retain"
    size: 5Gi

database:
  internal:
    persistence:
      storageClass: "do-block-storage-retain" 
      size: 2Gi

redis:
  enabled: true
